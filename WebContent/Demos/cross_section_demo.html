<!DOCTYPE html>
<html>
    <head>
        <script src="../vendor/jquery/jquery-1.10.2.min.js" type="text/javascript"></script>
        <script src="../vendor/jqueryui/jquery-ui.min.js" type="text/javascript"></script>
        <script src="../vendor/tinypubsub/jquery.ba-tinypubsub.js" type="text/javascript"></script>
        
        <script src="./js/demo.js" type="text/javascript"></script>
        
        <script src="../widgets/cross_section/cross_section_div.js" type="text/javascript"></script>
        
        <script>
            $(document).ready(function() {
                $("#ra_div").my_publisher_buttons({channel : "mwww/", topic : "ra", value : 25});
                $("#rb_div").my_publisher_buttons({channel : "mwww/", topic : "rb", value : 50});
                $("#rc_div").my_publisher_buttons({channel : "mwww/", topic : "rc", value : 75});
                $("#rd_div").my_publisher_buttons({channel : "mwww/", topic : "rd", value : 100});
          
                $("#diagram_div").cross_section_div({channel : "mwww/"});
                //$("#diagram_div").my_subscriber({channel : "mwww/", topic : "rd"});
                              
                $.subscribe("mwww/ra", function(e, ra) {
                    $.publish("mwww/radii", [ra, -1, -1, -1]);
                });
                
                $.subscribe("mwww/rb", function(e, rb) {
                    $.publish("mwww/radii", [-1, rb, -1, -1]);
                });
                              
                $.subscribe("mwww/rc", function(e, rc) {
                    $.publish("mwww/radii", [-1, -1, rc, -1]);
                });
                              
                $.subscribe("mwww/rd", function(e, rd) {
                    $.publish("mwww/radii", [-1, -1, -1, rd]);
                });
                              
                alert("Page loaded successfully!");
            });
        </script>
        
    </head>
    
    <body>
        
        <h1>Airway cross-section demo page</h1>
        
        <div id="A_div"></div>
        <div id="ra_div"></div>
        <div id="rb_div"></div>
        <div id="rc_div"></div>
        <div id="rd_div"></div>
        
        <div id="diagram_div" style = "float: left; width: 275px"></div>
        
    </body>
</html>
